Revisão 46
+ Alterada rotina de injeção, agora nao precisa fazer mas cast ao registrar servicos do infra ou qualquer outro objeto;
+ InfraAnnotation ganhou os métodos: overload de Annotate, isAnnotationPresent (IsAnnotedWith removido), GetAnnotation, GetAnnotations
+ Adicionado política de Retenção (rpClass, rpInstance) e agora podem ser criadas on Demmand;
+ InjectedList agora pode retornar um AnnotationIterator;
+ IClassInfo ganhou IsAnnotation e RetentionPolicy;
+ InfraReflection (TypeService) agora possui função AddAnnotation;
+ Criada classe THibPersistentClass responsável por conhecer o mapeamento a partir das anotações;
+ Métodos de TLoader que liam o mapeamento foram movidos para o THibPersistentClass;
+ Adiciona set TInheritanceType para saber a estratégia de herança mapeada;
+ Adicionados novos testes para InfraAnnotations;
+ Alterada forma de reflexão do InfraHibernate, para usar uma unit à parte;

Revisão 45
+ Adicionada função para pegar o arquivo de configuração XML das telas;
+ Uma GUI agora possui uma propriedade Name e GetConfigurationFileName;

Revisão 44
+ Adidicionado InfraAspect de volta ao core;
+ Separada a parte de tratamento da VMT para ser usada pelo Aspect e pelo Reflect;
+ Criado testes unitários para Aspects e AspectEval;
+ Adicionado IsFunction em IMethodInfo, feito tambem um overload de Invoke para receber já um TObject;
+ Adicionado FullName em MemberInfo;
+ Adicionado IClassInfoIterator para iteragis pelas classes na reflexão, pode usar TypeService.NewClassInfoIterator;
+ Documentada units do InfraAspect, InfraHibernate;
- Corrigido alguns métodos da reflexão de métodos para atender os aspectos;
- corrigido caminho para o banco de dado dos teste do InfraHibernate;

Revisões Elaboradas pelo Diogo;

Revisão 24
+ Add TInfraBaseObject to put virtual constructor to enable create classes by reflection rightly;
+ Added TMemoryManagedObject.IsAnnotedWith;
+ Changed TMemoryManagedObject.Inject to receive if is annotation by parameter;
+ New Tests for Annotation;
- Fixed InjectedList e InjectedItem;
- Fixed TMemoryManagedObject.QueryInterface to find injected classes;
- Fixed TMemoryManagedObject.Annotate and TMemoryManagedObject.Inject;
- Fixed TElement.InitTypeInfo to cast to TInfraBaseObjectClass;
- Fixed all constructors to override or reintroduce TInfraBaseObject constructor;
- Fixed TTypeService.CreateInstance;
- Fixed list Templates to override or reintroduce TInfraBaseObject constructor;

Revisão 10
+ Add some classes on InfraHibernate;
+ Enhance InfraHibernate model;
+ Reduced number of parameters necessary on TMethodInfo.InvokeRealMethod method;
+ Finished Units Tests to Reflect;
- Fixed TMethodInfo.InvokeRealMethod method;
- Fixed TPropertyInfo.GetValue and SetValue to test if fields are assigned;
- Fixed TInfraObject.AddProperty to raise exception when property exist already;

17:39 4/2/2007  v60
- Reflection: Corrigida iteração em TClassInfo.GetPropertyInfo, estava faltando o iterator.next;
- Reflection: TTypeService.CreateInstance(ClassInfo) agora testa se o classinfo está definido;
- Reflection: TClassInfo.SetSuperClass nao estava definindo corretamente o ancestral da classe;
- Reflection: Corrigido problema em AddPropertyInfo, nao estava adicionando os métodos na lista de membros;
- Reflection: corrigido métodos de TPropertyInfo GetValue para retornar nil caso obj nao implemente infrainstance;
- ValueType: TInfraObject.AddProperty corrigido para verificar se o tipo de propriedade está registrado na reflexão;  
+ Reflection: adicionado método GetTypeInfo em IPropertyInfo para saber o tipo da propriedade;
+ Reflection: implementado o Invoke em TMethodInfo;
+ ReflectionTests: Adicionado Addres ao Model e melhorado para poder fazer testes pro Address tambem;
+ Persistence: Adicionada alguma novas interfaces;

22:55 31/1/2007
- Inicio dos Testes unitários para reflexão. Testando Typeservice (incompleto);

14:38 9/12/2006
- Adição do esquema de Annotations no Infra;

  Annotations é um recurso muito utilizado atualmente no java e no .net, agora trazemos este recurso para o Infra, graças a reflexão. Annotations no Infra funciona assim:
  1) A partir de classes/interfaces registradas na reflexão. Ex:

     ICommand = Interface
       property Enabled;
     end;
    
     RegisterNewType(ICommand, TCommand);

  2) Anotamos um typeinfo passando uma interface já reflexionada. Isso vai injetar uma instância de ICommand no
     Bo.SomeMethod.TypeInfo, fazendo com que o método de um Bussinss objeto possa ser tratado como um command da
     MVP (camada de Apresentação). Posso então setar a propriedade do command. ex:

     Cmd := ReflectService.Annotate(Bo.SomeMethod.TypeInfo, ICommand) as ICommand;
     Cmd.Enabled := True;

  3) Agora, na camada de apresentação posso setar qualquer propriedade do command.

 tenho acesso a propriedade Enabled como se Bo.SomeMethod tivesse esta propriedade;
     

  Veja que esse sistema não polui o método original com questões que
não tem à ver com a implementação. Um sistema semelhante poderia ser
usado para armazenar outras questões visuais ref. a propriedades dos
objetos (ex: a questão da máscara dos membros da outra thread,
informações da persistência sobre os BO's (tabela, colunas, etc)).
Comentários? 


----------------------------


??? Remover servicos de Appcontext e fazer com que os servicos sejam injetados no Appcontext ou então remover 
    totalmetne o applicationcontext

v 1.139
+ MVP: Removido todos os prefixos infra das classes do MVP;
+ Notify: Adicionado um Subscribe sobrecarregado onde pode-se passar métodos callback para notificação de determinados evento, isso permite que cada evento possa ser tratato por um método separado da classe que está ouvindo determinado evento;
+ Notify: Removida toda a parte de eventos tipo Veto, achamos que é um processamento adicional para pouco uso no momento. Quando for possível ter aspectos para primitivos os métodos poderão ser interceptados e assim poderemos ter mais facilmente eventos Vetoable;
+ ValueType: Removida notificação de eventos veto dos setters;
+ ValueType: Criado método Change no valuetype base para simplificar a leitura nos setters dos descendentes;
+ Reflect: criado método GetTypeInfoByClass para auxiliar na configuração automatica da propriedade Typeinfo de um Element;
+ Reflect: GetTypeInfoByName colocado no TypeRegisterService e procura o nome nos membros do TypeInfo e em suas superclasses caso nao encontre;
- Reflect: Corrigido bug quando procurando um feature pelo nome. Nao estava tratando direito situações como 'Model.Value';
- Reflect: Removida geração da exceção no GetTypeInfoByName da lista de membros do typeinfo;
+ Refeito todos as chamadas a EventService.Subscribe para utilizar o novo esquema de subscrições;


v 1.138
+ Now Aspects are using TInfraList to Advice's Params instead TList;
+ Added navigation on TInfraTypeInfoList.GetTypeInfoByName so we can for sample get the typeinfo of 'Model.Value';
+ Params added to InterceptedItem;
+ Removed parameters from Proceed, user could pass some other infralist and BOOOOOMMMMMM;

v 1.137
- Fixed Defines to use gxdebug on core and demos;
- Fixed problems with functions on InvokeRealMethod;
+ Created AspectVMTUtil to group functions low level;
+ Splited AspectImpl in 2 units (low level and medium level);
+ Create AspectPointCutEval to treat PointCut Expressions;

v 1.136
+ Put Params of Advices to TList for while because we have some leaks that cannot be fixed on this moment.

v 1.134
- Fixed PackParams parametes order;

v 1.133
- Fixed call of advices (beforeadvices, afteradvices)
+ Created a inverse iterator to intercepted methods using templates;
+ Created TInfraJointPoint;

v 1.132
+ Create Aspect, MethodInfo, JointPoint, Instance to intercepted method in Stack;

v 1.131
- turned Around method as virtual;
- fixed CallAdvices  to return IInfraType;
+ Created a Iterator to Stacks
+ Created a Stack to Intercepted Methods;

v 1.130
- Fixed Proceed parameters;
+ Created GetNextJointPoint and fixed call of Advices;
+ Created a stack to treat jointpoints between aspects;
+ Put IndexOf method into IInfraJointPoints;

v 1.129
- Fixed CallAdvices to receive object and infralist;

v 1.128
+ Created PackParams and UnpackParams and InvokeRealMethod passing TInfraList;
+ Created Pack and Unpack Params

v 1.120
+ Started InfraAspect